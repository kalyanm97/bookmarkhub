"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_stores_bookmarks_store_ts";
exports.ids = ["_ssr_src_stores_bookmarks_store_ts"];
exports.modules = {

/***/ "(ssr)/./src/stores/bookmarks.store.ts":
/*!***************************************!*\
  !*** ./src/stores/bookmarks.store.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useFeedStore: () => (/* binding */ useFeedStore)\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! zustand */ \"(ssr)/../node_modules/zustand/esm/index.mjs\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/api */ \"(ssr)/./src/lib/api.ts\");\n/* harmony import */ var _auth_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./auth.store */ \"(ssr)/./src/stores/auth.store.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/utils */ \"(ssr)/./src/lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ useFeedStore auto */ \n\n\n\nconst PERSIST_KEY = \"bookmarkhub.votes.v1\";\nfunction persistedKeyForUser() {\n    try {\n        if (true) return PERSIST_KEY;\n        const u = _auth_store__WEBPACK_IMPORTED_MODULE_1__.useAuthStore.getState().user;\n        return u && u.id ? `${PERSIST_KEY}.${u.id}` : `${PERSIST_KEY}.anon`;\n    } catch  {\n        return `${PERSIST_KEY}.anon`;\n    }\n}\nfunction readPersistedVotes() {\n    try {\n        if (true) return {};\n        const key = persistedKeyForUser();\n        const raw = localStorage.getItem(key);\n        if (!raw) return {};\n        const parsed = JSON.parse(raw);\n        return typeof parsed === \"object\" && parsed ? parsed : {};\n    } catch  {\n        return {};\n    }\n}\nfunction writePersistedVotes(map) {\n    try {\n        if (true) return;\n        const key = persistedKeyForUser();\n        localStorage.setItem(key, JSON.stringify(map));\n    } catch (e) {\n        void e;\n    }\n}\nconst useFeedStore = (0,zustand__WEBPACK_IMPORTED_MODULE_3__.create)((set, get)=>({\n        items: [],\n        loading: false,\n        error: null,\n        async fetch () {\n            set({\n                loading: true,\n                error: null\n            });\n            try {\n                const data = await (0,_lib_api__WEBPACK_IMPORTED_MODULE_0__.api)(\"/bookmarks\");\n                const raw = readPersistedVotes();\n                const currentUser = _auth_store__WEBPACK_IMPORTED_MODULE_1__.useAuthStore.getState().user;\n                const merged = data.map((it)=>{\n                    const persisted = raw[it.id];\n                    let uv = it.userVote ?? 0;\n                    if (currentUser && currentUser.id) {\n                        if (uv === 0 && typeof persisted === \"number\" && persisted !== 0) uv = persisted;\n                    } else {\n                        uv = typeof persisted === \"number\" ? persisted : uv;\n                    }\n                    return {\n                        ...it,\n                        userVote: uv\n                    };\n                });\n                set({\n                    items: merged\n                });\n            } catch (e) {\n                const msg = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.extractErrorMessage)(e, \"Failed to load feed\");\n                set({\n                    error: msg\n                });\n                try {\n                    if (String(\"development\") !== \"production\") console.debug(\"[bookmarks.store] fetch failed\", e);\n                } catch  {\n                    void 0;\n                }\n            } finally{\n                set({\n                    loading: false\n                });\n            }\n        },\n        startLive () {\n            const t = get()._timer;\n            if (t) return;\n            const timer = setInterval(()=>get().fetch(), 10000);\n            set({\n                _timer: timer\n            });\n        },\n        stopLive () {\n            const t = get()._timer;\n            if (t) {\n                clearInterval(t);\n                set({\n                    _timer: undefined\n                });\n            }\n        },\n        async create (title, url) {\n            const temp = {\n                id: `tmp-${Date.now()}`,\n                title,\n                url,\n                createdAt: new Date().toISOString(),\n                postedBy: {\n                    id: \"\",\n                    email: \"you\",\n                    displayName: null,\n                    username: null\n                },\n                voteCount: 0,\n                upCount: 0,\n                downCount: 0,\n                userVote: 0\n            };\n            set({\n                items: [\n                    temp,\n                    ...get().items\n                ]\n            });\n            try {\n                const real = await (0,_lib_api__WEBPACK_IMPORTED_MODULE_0__.api)(\"/bookmarks\", {\n                    method: \"POST\",\n                    body: JSON.stringify({\n                        title,\n                        url\n                    })\n                });\n                set({\n                    items: get().items.map((x)=>x.id === temp.id ? real : x)\n                });\n            } catch (e) {\n                set({\n                    items: get().items.filter((x)=>x.id !== temp.id)\n                });\n                try {\n                    if (String(\"development\") !== \"production\") console.debug(\"[bookmarks.store] create failed\", e);\n                } catch  {\n                    void 0;\n                }\n                throw e;\n            }\n        },\n        updateItemCounts (bookmarkId, upCount, downCount, userVote) {\n            set({\n                items: get().items.map((it)=>it.id === bookmarkId ? {\n                        ...it,\n                        upCount,\n                        downCount,\n                        userVote\n                    } : it)\n            });\n            try {\n                const map = readPersistedVotes();\n                if (userVote === 0) delete map[bookmarkId];\n                else map[bookmarkId] = userVote;\n                writePersistedVotes(map);\n            } catch (e) {\n                try {\n                    if (String(\"development\") !== \"production\") console.debug(\"[bookmarks.store] updateItemCounts persist failed\", e);\n                } catch  {\n                    void 0;\n                }\n            }\n        },\n        clearUserVotes () {\n            try {\n                try {\n                    localStorage.removeItem(persistedKeyForUser());\n                } catch (e) {\n                    try {\n                        if (String(\"development\") !== \"production\") console.debug(\"[bookmarks.store] clearUserVotes localStorage remove failed\", e);\n                    } catch  {\n                        void 0;\n                    }\n                }\n                try {\n                    localStorage.removeItem(`${PERSIST_KEY}.anon`);\n                } catch (e) {\n                    try {\n                        if (String(\"development\") !== \"production\") console.debug(\"[bookmarks.store] clearUserVotes localStorage remove anon failed\", e);\n                    } catch  {\n                        void 0;\n                    }\n                }\n            } catch (e) {\n                void e;\n            }\n            set({\n                items: get().items.map((it)=>({\n                        ...it,\n                        userVote: 0\n                    }))\n            });\n        },\n        updateItem (bookmarkId, patch) {\n            set({\n                items: get().items.map((it)=>it.id === bookmarkId ? {\n                        ...it,\n                        ...patch\n                    } : it)\n            });\n        }\n    }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTtZQUN0QixFQUFFLE9BQU9BLEdBQUc7Z0JBQUUsS0FBS0E7WUFBRztZQUN0QkUsSUFBSTtnQkFBRUUsT0FBT0QsTUFBTUMsS0FBSyxDQUFDUCxHQUFHLENBQUMsQ0FBQ2MsS0FBUTt3QkFBRSxHQUFHQSxFQUFFO3dCQUFFRyxVQUFVO29CQUFnQjtZQUFJO1FBQy9FO1FBQ0FvQyxZQUFXSCxVQUFrQixFQUFFSSxLQUF3QjtZQUNyRGpELElBQUk7Z0JBQUVFLE9BQU9ELE1BQU1DLEtBQUssQ0FBQ1AsR0FBRyxDQUFDLENBQUNjLEtBQVFBLEdBQUd4QixFQUFFLEtBQUs0RCxhQUFhO3dCQUFFLEdBQUdwQyxFQUFFO3dCQUFFLEdBQUd3QyxLQUFLO29CQUFDLElBQUl4QztZQUFLO1FBQzFGO0lBQ0YsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL2Jvb2ttYXJraHViLWZyb250ZW5kLy4vc3JjL3N0b3Jlcy9ib29rbWFya3Muc3RvcmUudHM/ZTYzZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tICd6dXN0YW5kJztcbmltcG9ydCB7IGFwaSB9IGZyb20gJy4uL2xpYi9hcGknO1xuaW1wb3J0IHsgdXNlQXV0aFN0b3JlIH0gZnJvbSAnLi9hdXRoLnN0b3JlJztcbmltcG9ydCB7IGV4dHJhY3RFcnJvck1lc3NhZ2UgfSBmcm9tICcuLi9saWIvdXRpbHMnO1xuXG5jb25zdCBQRVJTSVNUX0tFWSA9ICdib29rbWFya2h1Yi52b3Rlcy52MSc7XG5mdW5jdGlvbiBwZXJzaXN0ZWRLZXlGb3JVc2VyKCkge1xuICB0cnkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIFBFUlNJU1RfS0VZO1xuICAgIGNvbnN0IHUgPSB1c2VBdXRoU3RvcmUuZ2V0U3RhdGUoKS51c2VyO1xuICAgIHJldHVybiB1ICYmIHUuaWQgPyBgJHtQRVJTSVNUX0tFWX0uJHt1LmlkfWAgOiBgJHtQRVJTSVNUX0tFWX0uYW5vbmA7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBgJHtQRVJTSVNUX0tFWX0uYW5vbmA7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlYWRQZXJzaXN0ZWRWb3RlcygpOiBSZWNvcmQ8c3RyaW5nLCAtMSB8IDAgfCAxPiB7XG4gIHRyeSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4ge307XG4gICAgY29uc3Qga2V5ID0gcGVyc2lzdGVkS2V5Rm9yVXNlcigpO1xuICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgaWYgKCFyYXcpIHJldHVybiB7fTtcbiAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHJhdyk7XG4gICAgcmV0dXJuIHR5cGVvZiBwYXJzZWQgPT09ICdvYmplY3QnICYmIHBhcnNlZCA/IHBhcnNlZCA6IHt9O1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4ge307XG4gIH1cbn1cbmZ1bmN0aW9uIHdyaXRlUGVyc2lzdGVkVm90ZXMobWFwOiBSZWNvcmQ8c3RyaW5nLCAtMSB8IDAgfCAxPikge1xuICB0cnkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIGNvbnN0IGtleSA9IHBlcnNpc3RlZEtleUZvclVzZXIoKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KG1hcCkpO1xuICB9IGNhdGNoIChlKSB7IHZvaWQgZTsgfVxufVxuXG5leHBvcnQgdHlwZSBGZWVkSXRlbSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgdXJsOiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xuICBwb3N0ZWRCeToge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgZW1haWw6IHN0cmluZyB8IG51bGw7XG4gICAgZGlzcGxheU5hbWU6IHN0cmluZyB8IG51bGw7XG4gICAgdXNlcm5hbWU6IHN0cmluZyB8IG51bGw7XG4gIH07XG4gIHZvdGVDb3VudDogbnVtYmVyO1xuICB1cENvdW50PzogbnVtYmVyO1xuICBkb3duQ291bnQ/OiBudW1iZXI7XG4gIHVzZXJWb3RlOiAtMSB8IDAgfCAxO1xufTtcblxuaW50ZXJmYWNlIEZlZWRTdGF0ZSB7XG4gIGl0ZW1zOiBGZWVkSXRlbVtdO1xuICBsb2FkaW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbiAgZmV0Y2g6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHN0YXJ0TGl2ZTogKCkgPT4gdm9pZDtcbiAgc3RvcExpdmU6ICgpID0+IHZvaWQ7XG4gIGNyZWF0ZTogKHRpdGxlOiBzdHJpbmcsIHVybDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICB1cGRhdGVJdGVtQ291bnRzOiAoYm9va21hcmtJZDogc3RyaW5nLCB1cENvdW50OiBudW1iZXIsIGRvd25Db3VudDogbnVtYmVyLCB1c2VyVm90ZTogLTEgfCAwIHwgMSkgPT4gdm9pZDtcbiAgY2xlYXJVc2VyVm90ZXM6ICgpID0+IHZvaWQ7XG4gIHVwZGF0ZUl0ZW06IChib29rbWFya0lkOiBzdHJpbmcsIHBhdGNoOiBQYXJ0aWFsPEZlZWRJdGVtPikgPT4gdm9pZDtcbiAgX3RpbWVyPzogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0SW50ZXJ2YWw+IHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY29uc3QgdXNlRmVlZFN0b3JlID0gY3JlYXRlPEZlZWRTdGF0ZT4oKHNldCwgZ2V0KSA9PiAoe1xuICBpdGVtczogW10sXG4gIGxvYWRpbmc6IGZhbHNlLFxuICBlcnJvcjogbnVsbCxcblxuICBhc3luYyBmZXRjaCgpIHtcbiAgICBzZXQoeyBsb2FkaW5nOiB0cnVlLCBlcnJvcjogbnVsbCB9KTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGFwaTxGZWVkSXRlbVtdPignL2Jvb2ttYXJrcycpO1xuICAgICAgY29uc3QgcmF3ID0gcmVhZFBlcnNpc3RlZFZvdGVzKCk7XG4gICAgICBjb25zdCBjdXJyZW50VXNlciA9IHVzZUF1dGhTdG9yZS5nZXRTdGF0ZSgpLnVzZXI7XG4gICAgICBjb25zdCBtZXJnZWQgPSBkYXRhLm1hcCgoaXQpID0+IHtcbiAgICAgICAgY29uc3QgcGVyc2lzdGVkID0gcmF3W2l0LmlkXSBhcyBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgICAgIGxldCB1djogLTEgfCAwIHwgMSA9IChpdC51c2VyVm90ZSA/PyAwKSBhcyAtMSB8IDAgfCAxO1xuICAgICAgICBpZiAoY3VycmVudFVzZXIgJiYgY3VycmVudFVzZXIuaWQpIHtcbiAgICAgICAgICBpZiAodXYgPT09IDAgJiYgdHlwZW9mIHBlcnNpc3RlZCA9PT0gJ251bWJlcicgJiYgcGVyc2lzdGVkICE9PSAwKSB1diA9IHBlcnNpc3RlZCBhcyAtMSB8IDAgfCAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHV2ID0gKHR5cGVvZiBwZXJzaXN0ZWQgPT09ICdudW1iZXInID8gcGVyc2lzdGVkIDogdXYpIGFzIC0xIHwgMCB8IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgLi4uaXQsIHVzZXJWb3RlOiB1diB9O1xuICAgICAgfSk7XG4gICAgICBzZXQoeyBpdGVtczogbWVyZ2VkIH0pO1xuICAgIH0gY2F0Y2ggKGU6IHVua25vd24pIHtcbiAgICAgIGNvbnN0IG1zZyA9IGV4dHJhY3RFcnJvck1lc3NhZ2UoZSwgJ0ZhaWxlZCB0byBsb2FkIGZlZWQnKTtcbiAgICAgIHNldCh7IGVycm9yOiBtc2cgfSk7XG4gICAgICB0cnkgeyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgIGlmIChTdHJpbmcocHJvY2Vzcy5lbnYuTk9ERV9FTlYpICE9PSAncHJvZHVjdGlvbicpIGNvbnNvbGUuZGVidWcoJ1tib29rbWFya3Muc3RvcmVdIGZldGNoIGZhaWxlZCcsIGUpO1xuICAgICAgfSBjYXRjaCB7IHZvaWQgMDsgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXQoeyBsb2FkaW5nOiBmYWxzZSB9KTtcbiAgICB9XG4gIH0sXG5cbiAgc3RhcnRMaXZlKCkge1xuICAgIGNvbnN0IHQgPSBnZXQoKS5fdGltZXI7XG4gICAgaWYgKHQpIHJldHVybjtcbiAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IGdldCgpLmZldGNoKCksIDEwXzAwMCk7XG4gICAgc2V0KHsgX3RpbWVyOiB0aW1lciB9KTtcbiAgfSxcblxuICBzdG9wTGl2ZSgpIHtcbiAgICBjb25zdCB0ID0gZ2V0KCkuX3RpbWVyO1xuICAgIGlmICh0KSB7XG4gICAgICBjbGVhckludGVydmFsKHQpO1xuICAgICAgc2V0KHsgX3RpbWVyOiB1bmRlZmluZWQgfSk7XG4gICAgfVxuICB9LFxuXG4gIGFzeW5jIGNyZWF0ZSh0aXRsZSwgdXJsKSB7XG4gICAgY29uc3QgdGVtcDogRmVlZEl0ZW0gPSB7XG4gICAgICBpZDogYHRtcC0ke0RhdGUubm93KCl9YCxcbiAgICAgIHRpdGxlLFxuICAgICAgdXJsLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBwb3N0ZWRCeTogeyBpZDogJycsIGVtYWlsOiAneW91JywgZGlzcGxheU5hbWU6IG51bGwsIHVzZXJuYW1lOiBudWxsIH0sXG4gICAgICB2b3RlQ291bnQ6IDAsXG4gICAgICB1cENvdW50OiAwLFxuICAgICAgZG93bkNvdW50OiAwLFxuICAgICAgdXNlclZvdGU6IDAsXG4gICAgfTtcbiAgICBzZXQoeyBpdGVtczogW3RlbXAsIC4uLmdldCgpLml0ZW1zXSB9KTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZWFsID0gYXdhaXQgYXBpPEZlZWRJdGVtPignL2Jvb2ttYXJrcycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdGl0bGUsIHVybCB9KSxcbiAgICAgIH0pO1xuICAgICAgc2V0KHsgaXRlbXM6IGdldCgpLml0ZW1zLm1hcCgoeCkgPT4gKHguaWQgPT09IHRlbXAuaWQgPyByZWFsIDogeCkpIH0pO1xuICAgIH0gY2F0Y2ggKGU6IHVua25vd24pIHtcbiAgICAgIHNldCh7IGl0ZW1zOiBnZXQoKS5pdGVtcy5maWx0ZXIoKHgpID0+IHguaWQgIT09IHRlbXAuaWQpIH0pO1xuICAgICAgdHJ5IHsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGlmIChTdHJpbmcocHJvY2Vzcy5lbnYuTk9ERV9FTlYpICE9PSAncHJvZHVjdGlvbicpIGNvbnNvbGUuZGVidWcoJ1tib29rbWFya3Muc3RvcmVdIGNyZWF0ZSBmYWlsZWQnLCBlKTtcbiAgICAgIH0gY2F0Y2ggeyB2b2lkIDA7IH1cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9LFxuXG4gIHVwZGF0ZUl0ZW1Db3VudHMoYm9va21hcmtJZDogc3RyaW5nLCB1cENvdW50OiBudW1iZXIsIGRvd25Db3VudDogbnVtYmVyLCB1c2VyVm90ZTogLTEgfCAwIHwgMSkge1xuICAgIHNldCh7IGl0ZW1zOiBnZXQoKS5pdGVtcy5tYXAoKGl0KSA9PiAoaXQuaWQgPT09IGJvb2ttYXJrSWQgPyB7IC4uLml0LCB1cENvdW50LCBkb3duQ291bnQsIHVzZXJWb3RlIH0gOiBpdCkpIH0pO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtYXAgPSByZWFkUGVyc2lzdGVkVm90ZXMoKTtcbiAgICAgIGlmICh1c2VyVm90ZSA9PT0gMCkgZGVsZXRlIG1hcFtib29rbWFya0lkXTtcbiAgICAgIGVsc2UgbWFwW2Jvb2ttYXJrSWRdID0gdXNlclZvdGU7XG4gICAgICB3cml0ZVBlcnNpc3RlZFZvdGVzKG1hcCk7XG4gICAgfSBjYXRjaCAoZSkgeyB0cnkgeyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgIGlmIChTdHJpbmcocHJvY2Vzcy5lbnYuTk9ERV9FTlYpICE9PSAncHJvZHVjdGlvbicpIGNvbnNvbGUuZGVidWcoJ1tib29rbWFya3Muc3RvcmVdIHVwZGF0ZUl0ZW1Db3VudHMgcGVyc2lzdCBmYWlsZWQnLCBlKTtcbiAgICB9IGNhdGNoIHsgdm9pZCAwOyB9IH1cbiAgfSxcbiAgY2xlYXJVc2VyVm90ZXMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRyeSB7IGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHBlcnNpc3RlZEtleUZvclVzZXIoKSk7IH0gY2F0Y2ggKGUpIHsgdHJ5IHsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGlmIChTdHJpbmcocHJvY2Vzcy5lbnYuTk9ERV9FTlYpICE9PSAncHJvZHVjdGlvbicpIGNvbnNvbGUuZGVidWcoJ1tib29rbWFya3Muc3RvcmVdIGNsZWFyVXNlclZvdGVzIGxvY2FsU3RvcmFnZSByZW1vdmUgZmFpbGVkJywgZSk7XG4gICAgICB9IGNhdGNoIHsgdm9pZCAwOyB9IH1cbiAgICAgIHRyeSB7IGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGAke1BFUlNJU1RfS0VZfS5hbm9uYCk7IH0gY2F0Y2ggKGUpIHsgdHJ5IHsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgIGlmIChTdHJpbmcocHJvY2Vzcy5lbnYuTk9ERV9FTlYpICE9PSAncHJvZHVjdGlvbicpIGNvbnNvbGUuZGVidWcoJ1tib29rbWFya3Muc3RvcmVdIGNsZWFyVXNlclZvdGVzIGxvY2FsU3RvcmFnZSByZW1vdmUgYW5vbiBmYWlsZWQnLCBlKTtcbiAgICAgIH0gY2F0Y2ggeyB2b2lkIDA7IH0gfVxuICAgIH0gY2F0Y2ggKGUpIHsgdm9pZCBlOyB9XG4gICAgc2V0KHsgaXRlbXM6IGdldCgpLml0ZW1zLm1hcCgoaXQpID0+ICh7IC4uLml0LCB1c2VyVm90ZTogMCBhcyAtMSB8IDAgfCAxIH0pKSB9KTtcbiAgfSxcbiAgdXBkYXRlSXRlbShib29rbWFya0lkOiBzdHJpbmcsIHBhdGNoOiBQYXJ0aWFsPEZlZWRJdGVtPikge1xuICAgIHNldCh7IGl0ZW1zOiBnZXQoKS5pdGVtcy5tYXAoKGl0KSA9PiAoaXQuaWQgPT09IGJvb2ttYXJrSWQgPyB7IC4uLml0LCAuLi5wYXRjaCB9IDogaXQpKSB9KTtcbiAgfSxcbn0pKTsiXSwibmFtZXMiOlsiY3JlYXRlIiwiYXBpIiwidXNlQXV0aFN0b3JlIiwiZXh0cmFjdEVycm9yTWVzc2FnZSIsIlBFUlNJU1RfS0VZIiwicGVyc2lzdGVkS2V5Rm9yVXNlciIsInUiLCJnZXRTdGF0ZSIsInVzZXIiLCJpZCIsInJlYWRQZXJzaXN0ZWRWb3RlcyIsImtleSIsInJhdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZWQiLCJKU09OIiwicGFyc2UiLCJ3cml0ZVBlcnNpc3RlZFZvdGVzIiwibWFwIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImUiLCJ1c2VGZWVkU3RvcmUiLCJzZXQiLCJnZXQiLCJpdGVtcyIsImxvYWRpbmciLCJlcnJvciIsImZldGNoIiwiZGF0YSIsImN1cnJlbnRVc2VyIiwibWVyZ2VkIiwiaXQiLCJwZXJzaXN0ZWQiLCJ1diIsInVzZXJWb3RlIiwibXNnIiwiU3RyaW5nIiwiY29uc29sZSIsImRlYnVnIiwic3RhcnRMaXZlIiwidCIsIl90aW1lciIsInRpbWVyIiwic2V0SW50ZXJ2YWwiLCJzdG9wTGl2ZSIsImNsZWFySW50ZXJ2YWwiLCJ1bmRlZmluZWQiLCJ0aXRsZSIsInVybCIsInRlbXAiLCJEYXRlIiwibm93IiwiY3JlYXRlZEF0IiwidG9JU09TdHJpbmciLCJwb3N0ZWRCeSIsImVtYWlsIiwiZGlzcGxheU5hbWUiLCJ1c2VybmFtZSIsInZvdGVDb3VudCIsInVwQ291bnQiLCJkb3duQ291bnQiLCJyZWFsIiwibWV0aG9kIiwiYm9keSIsIngiLCJmaWx0ZXIiLCJ1cGRhdGVJdGVtQ291bnRzIiwiYm9va21hcmtJZCIsImNsZWFyVXNlclZvdGVzIiwicmVtb3ZlSXRlbSIsInVwZGF0ZUl0ZW0iLCJwYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/stores/bookmarks.store.ts\n");

/***/ })

};
;